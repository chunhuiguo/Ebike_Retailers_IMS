<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.1//EN"
    "http://struts.apache.org/dtds/struts-2.1.dtd">
<struts>
	<package name="report" extends="jasperreports-default" namespace="/report">
		  
		<!--  
		<result-types>
			<result-type name="captchaResult" class="com.luyuan.home.action.CaptchaResult" />
		</result-types>
		-->

		<interceptors>
			<interceptor name="clearFieldInterceptor" class="com.luyuan.intercept.ClearFieldInterceptor"></interceptor>
			<interceptor name="timeoutIntercept" class="com.luyuan.intercept.TimeoutIntercept"></interceptor>

			<interceptor-stack name="luyuanStack">
				<interceptor-ref name="timeoutIntercept"></interceptor-ref>
				<interceptor-ref name="clearFieldInterceptor"></interceptor-ref>
				<interceptor-ref name="defaultStack"></interceptor-ref>
			</interceptor-stack>
		</interceptors>
	 	<default-interceptor-ref name="luyuanStack"> </default-interceptor-ref>
	 	
		<global-results>
			<result name="login">/WEB-INF/home/login.jsp</result>
			<result name="logout" type="redirect">/login.html</result>
			<result name="timeout">/WEB-INF/public/intercept/timeout.jsp</result>
		</global-results>
		
		
		<action name="dayReport" class="dayReportAct" method="dayReport">
			<result>/WEB-INF/store/dayChoose.jsp</result>
		</action>

		<action name="dayChoose" class="dayReportAct" method="dayChoose">
			<result>/WEB-INF/store/dayChoose.jsp</result>
			<result name="select">/WEB-INF/store/warehouseForDay.jsp</result>
			<!-- <result name="certain" type="redirect">/report/day.html</result> -->
			<result name="certain" type="redirect">/report/pdf.html</result>
			<result name="exit" type="redirect">/luyuan.html</result>
		</action>

		<action name="warehouseForDay" class="dayReportAct" method="warehouseForDay">
			<result>/WEB-INF/store/dayChoose.jsp</result>
			<result name="certain">/WEB-INF/store/dayChoose.jsp</result>
			<result name="exit">/WEB-INF/store/dayChoose.jsp</result>
		</action>

		<action name="day" class="dayReportAct">
			<result name="success" type="jasper">
				<param name="location">/WEB-INF/jasper/dayReport.jasper</param>
				<param name="dataSource">dayInventoryList</param>
				<param name="format">HTML</param>
				<param name="imageServletUrl">   
                    <![CDATA[/images?image=]]>
				</param>
			</result>
		</action>
        
        <action name="pdf" class="dayReportAct" method="pdf">
			<result name="success" type="jasper">
				<param name="location">/WEB-INF/jasper/dayReport.jasper</param>
				<param name="dataSource">dayInventoryList</param>
				<param name="format">PDF</param>
			</result>
		</action>
		<!--
			wml
			monthlySales
		-->

		<action name="monthlySalesIn" class="monthlyReportAct" method="menuInSales">
			<result>/WEB-INF/store/monthlySalesReport.jsp</result>
		</action>

		<action name="salesQuery" class="monthlyReportAct" method="salesSubmitIn">
			<result>/WEB-INF/store/monthlySalesReport.jsp</result>
		</action>

		<action name="monthlySalesM" class="monthlyReportAct" method="monthlySalesM">
			<result>/WEB-INF/store/monthlySalesReportM.jsp</result>
		</action>

		<action name="salesReport" class="monthlyReportAct" method="salesReport">
			<result name="report" type="redirect">/report/monthlySales.html</result>
			<result>/WEB-INF/store/monthlySalesReportM.jsp</result>
		</action>

		<action name="monthlySales" class="monthlyReportAct" method="monthlySales">
			<result name="success" type="jasper">
				<param name="location">/WEB-INF/jasper/reportM.jasper</param>
				<param name="dataSource">psiProductMonthlyReportList</param>
				<param name="format">PDF</param>
				<param name="imageServletUrl">   
                    <![CDATA[/images?image=]]>
				</param>
			</result>
		</action>


		<!--
			wml
			monthlyDealing
		-->
		<action name="monthlyDealingIn" class="monthlyReportAct" method="menuInDealing">
			<result>/WEB-INF/money/monthlyDealingReport.jsp</result>
		</action>
		
		<action name="monthlyDealingM" class="monthlyReportAct" method="monthlyDealingM">
			<result>/WEB-INF/money/monthlyDealingReportM.jsp</result>
		</action>
		
		<action name="dealingQuery" class="monthlyReportAct" method="dealingSubmitIn">
			<result>/WEB-INF/money/monthlyDealingReport.jsp</result>
		</action>
		
		<action name="dealingReport" class="monthlyReportAct" method="dealingReport">
			<result name="report" type="redirect">/report/monthlyDealing.html</result>
			<result>/WEB-INF/money/monthlyDealingReportM.jsp</result>
		</action>

		<action name="monthlyDealing" class="monthlyReportAct" method="monthlyDealing">
			<result name="success" type="jasper">
				<param name="location">/WEB-INF/jasper/reportDealingM.jasper</param>
				<param name="dataSource">psiDealingMonthlyReportList</param>
				<param name="format">PDF</param>
				<param name="imageServletUrl">   
                    <![CDATA[/images?image=]]>
				</param>
			</result>
		</action>

	</package>

</struts>
